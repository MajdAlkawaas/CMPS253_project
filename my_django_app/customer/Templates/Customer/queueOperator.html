{% load static %}

<!DOCTYPE html>
<html lang="en">
<!--begin::Head-->

<head>
	<base href="../../../">
	<meta charset="utf-8" />
	<title>Queue Management</title>
	<meta name="description" content="Contacts datatable listing" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

	<!--begin::Fonts-->
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" />
	<!--end::Fonts-->




	<!--begin::Global Theme Styles(used by all pages)-->
	<link rel="stylesheet" href="{%static 'customer/plugins.bundle.css'%}">
	<link rel="stylesheet" href="{%static 'customer/prismjs.bundle.css'%}">
	<link rel="stylesheet" href="{%static 'customer/style.bundle.css'%}">
	<!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"> -->
	<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"> -->
	<!-- <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script> -->
	<!-- <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script> -->
	<!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script> -->
	<!--end::Global Theme Styles-->

	<!--begin::Layout Themes(used by all pages)-->

	<link rel="stylesheet" href="{%static 'customer/dark.css'%}">
	<link rel="stylesheet" href="{%static 'customer/dark1.css'%}">
	<link rel="stylesheet" href="{%static 'customer/light.css'%}">
	<link rel="stylesheet" href="{%static 'customer/light1.css'%}">
	<!--end::Layout Themes-->

	<!-- <script>
		window.setTimeout(function(){
			window.location.reload();
		},30000);
	</script> -->


</head>
<!--end::Head-->
<!--begin::Body-->

<body id="kt_body"
	class="header-fixed header-mobile-fixed subheader-enabled subheader-fixed aside-enabled aside-fixed aside-minimize-hoverable page-loading">

	<!--begin::Main-->
	<!--begin::Header Mobile-->
	<div id="kt_header_mobile" class="header-mobile align-items-center  header-mobile-fixed ">


	</div>
	<!--end::Header Mobile-->
	<div class="d-flex flex-column flex-root">
		<!--begin::Page-->
		<div class="d-flex flex-row flex-column-fluid page">

			<!--begin::Wrapper-->

			<!--begin::Content-->
			<div class="content  d-flex flex-column flex-column-fluid" id="kt_content">


				<!--begin::Entry-->
				<div class="d-flex flex-column-fluid">
					<!--begin::Container-->
					<div class=" container ">
						<!--begin::Card-->

						<form action="" method="post">
						{% csrf_token %}
						<div class="form-group row">
							<label class="col-form-label text-right col-lg-3 col-sm-12">Queue</label>
							<div class=" col-lg-4 col-md-9 col-sm-12">
									{{form.Queue_list}}
									<button class="btn btn-success active" style="width: 10em;" name="chooseQueue">Choose queue</button>
								</div>
							</div>

						<div class="card card-custom gutter-b">
							<div class="card-body">
								<!-- <div class="tab-content"> -->
									<!-- <div class="tab-pane fade" id="profile"> -->
										<table id="example1" class="display" style="width:100%">
											<thead>
												<tr>
													<th>Number</th>
													<th>Name</th>
													<th>Category</th>
													<th>Served</th>
													<th>Request</th>
													<th>Removed</th>
												</tr>
											</thead>
											<tbody>
												
												{% for guest in guests%}
												<tr>
													<td>{{guest.GuestNumber}}</td>
													<td>{{guest}}</td>
													<td>{{guest.Category.Name}}</td>
													<td>
														<button type="submit" class="btn btn-primary active hi" style="width: 7em;" 
														{%ifnotequal guest.GuestNumber guestNumbers%} disabled {% endifnotequal %}
														name="btnform1">Request</button>
													</td>
													<td>
														<button type="submit" class="btn btn-success active serve" style="width: 7em;" id="served"
														{%ifnotequal guest.GuestNumber guestNumbers%} disabled {% endifnotequal %}
														name="btnserve">Serve</button>
													</td>
													<td>
														<button type="submit" class="btn btn-danger active remove" style="width: 7em;" id="Removed"
														{%ifnotequal guest.GuestNumber guestNumbers%} disabled {% endifnotequal %}
														name="btnremove">Remove</button>
													</td>
												</tr>
										{%endfor%}
									</tbody>
								</table>
							</div>
						</div>
						<!--end::Card-->
					</div>
				</form>	
					<!--end::Container-->
				</div>
				<!--end::Entry-->
			</div>
			<!--end::Content-->
			<!-- </div> -->
			<!--end::Wrapper-->
		</div>
		<!--end::Page-->
	</div>
	<!--end::Main-->






	<script>var HOST_URL = "https://preview.keenthemes.com/metronic/theme/html/tools/preview";</script>
	<!--begin::Global Config(global config for global JS scripts)-->
	<script>
		var KTAppSettings = {
			"breakpoints": {
				"sm": 576,
				"md": 768,
				"lg": 992,
				"xl": 1200,
				"xxl": 1400
			},
			"colors": {
				"theme": {
					"base": {
						"white": "#ffffff",
						"primary": "#3699FF",
						"secondary": "#E5EAEE",
						"success": "#1B78C5",
						"info": "#8950FC",
						"warning": "#FFA800",
						"danger": "#F64E60",
						"light": "#E4E6EF",
						"dark": "#181C32"
					},
					"light": {
						"white": "#ffffff",
						"primary": "#E1F0FF",
						"secondary": "#EBEDF3",
						"success": "#C9E2F7",
						"info": "#EEE5FF",
						"warning": "#FFF4DE",
						"danger": "#FFE2E5",
						"light": "#F3F6F9",
						"dark": "#D6D6E0"
					},
					"inverse": {
						"white": "#ffffff",
						"primary": "#ffffff",
						"secondary": "#3F4254",
						"success": "#ffffff",
						"info": "#ffffff",
						"warning": "#ffffff",
						"danger": "#ffffff",
						"light": "#464E5F",
						"dark": "#ffffff"
					}
				},
				"gray": {
					"gray-100": "#F3F6F9",
					"gray-200": "#EBEDF3",
					"gray-300": "#E4E6EF",
					"gray-400": "#D1D3E0",
					"gray-500": "#B5B5C3",
					"gray-600": "#7E8299",
					"gray-700": "#5E6278",
					"gray-800": "#3F4254",
					"gray-900": "#181C32"
				}
			},
			"font-family": "Poppins"
		};
	</script>
	<!--end::Global Config-->

	<!--begin::Global Theme Bundle(used by all pages)-->
	<script src="{%static 'customer/plugins.bundle.js'%}"></script>
	<script src="{%static 'customer/prismjs.bundle.js'%}"></script>
	<script src="{%static 'customer/scripts.bundle.js'%}"></script>
	<!--end::Global Theme Bundle-->


	<!--begin::Page Scripts(used by this page)-->
	<link rel="stylesheet" href="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.min.css">
	<!-- <script src="https://code.jquery.com/jquery-3.5.1.js"></script> -->
	<script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
	<script>
		$(document).ready(function () {
			$('#example1').DataTable();
		});

			
		function shit(){
				
			var myTable = $('#example1').DataTable();
			var buttonserve = document.getElementsByClassName('serve');
			for (let i = 0; i < buttonserve.length; i++) {
				buttonserve[i].onclick = function(){
					myTable.row().remove().draw();
				}
			}

			var buttonremove = document.getElementsByClassName('remove');
			for (let i = 0; i < buttonremove.length; i++) {
				buttonremove[i].onclick = function(){
					myTable.row().remove().draw();
				}
			}
		}



		
		// var myTable = $('#example1').DataTable();
		// $('#example1').on( 'click', 'tbody tr', function () {
		// 	myTable.row( this ).remove().draw();
		// } );
	</script>
	<!-- <script src="{%static 'customer/queueManagement.js'%}"></script> -->
	<!--end::Page Scripts-->
	<!--end::Page Scripts-->
</body>
<!--end::Body-->

</html>